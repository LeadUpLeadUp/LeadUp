<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INSURE PRO | Elite Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@200;400;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold: #D4AF37;
            --gold-glow: rgba(212, 175, 55, 0.3);
            --bg: #030303;
        }

        body {
            font-family: 'Assistant', sans-serif;
            background-color: var(--bg);
            color: #ffffff;
            letter-spacing: 0.5px;
        }

        /* Glass Cards */
        .premium-glass {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            transition: all 0.4s ease;
        }

        .premium-glass:hover {
            border-color: var(--gold);
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(212, 175, 55, 0.1);
        }

        /* Gold Gradient Elements */
        .gold-btn {
            background: linear-gradient(135deg, #D4AF37 0%, #F9E79F 50%, #B8860B 100%);
            color: #000;
            font-weight: 800;
            text-transform: uppercase;
            transition: 0.3s;
        }

        .gold-btn:hover {
            filter: brightness(1.1);
            letter-spacing: 1px;
            box-shadow: 0 0 20px var(--gold-glow);
        }

        /* Custom Table */
        tr { transition: 0.3s; border-bottom: 1px solid rgba(255,255,255,0.03); }
        tr:hover { background: rgba(212, 175, 55, 0.05); }

        /* Lead Score Pulse */
        .pulse-gold {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); }
            100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); }
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="flex h-screen overflow-hidden">

    <aside class="w-80 bg-black/80 border-l border-white/5 flex flex-col p-8 space-y-10">
        <div class="text-center">
            <h1 class="text-4xl font-black italic tracking-tighter" style="color: var(--gold);">INSURE PRO</h1>
            <p class="text-[10px] uppercase tracking-[0.5em] text-gray-500">Elite Management</p>
        </div>

        <nav class="flex-1 space-y-2">
            <div onclick="showSection('dash')" class="flex items-center gap-4 p-4 rounded-2xl cursor-pointer hover:bg-white/5 transition group">
                <i data-lucide="layout-grid" class="group-hover:text-gold transition"></i>
                <span class="font-bold">Dashboard</span>
            </div>
            <div onclick="showSection('leads')" class="flex items-center gap-4 p-4 rounded-2xl cursor-pointer hover:bg-white/5 transition group">
                <i data-lucide="users" class="group-hover:text-gold transition"></i>
                <span class="font-bold">Leads Database</span>
            </div>
            <div class="flex items-center gap-4 p-4 rounded-2xl cursor-pointer hover:bg-white/5 transition group">
                <i data-lucide="calendar" class="group-hover:text-gold transition"></i>
                <span class="font-bold">Task Manager</span>
            </div>
        </nav>

        <div class="premium-glass p-6 rounded-3xl border border-gold/20">
            <p class="text-xs text-gray-400 mb-2">Connected Account</p>
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-full gold-btn flex items-center justify-center">AM</div>
                <span class="text-sm font-bold italic">Aviv Manager</span>
            </div>
        </div>
    </aside>

    <main class="flex-1 overflow-y-auto no-scrollbar p-12 bg-gradient-to-br from-[#0a0a0a] to-black">
        
        <div class="flex justify-between items-end mb-16">
            <div>
                <h2 id="section-title" class="text-5xl font-extrabold mb-2">×¡×§×™×¨×” × ×™×”×•×œ×™×ª</h2>
                <div class="flex items-center gap-2 text-gold">
                    <span class="w-2 h-2 rounded-full bg-gold pulse-gold"></span>
                    <p class="text-xs uppercase tracking-widest font-bold">××¢×¨×›×ª ××—×•×‘×¨×ª ×•×¤×¢×™×œ×”</p>
                </div>
            </div>
            <button onclick="toggleModal(true)" class="gold-btn px-10 py-4 rounded-2xl shadow-xl hover:scale-105 transition">
                + ×œ×™×“ ×—×“×© ×œ××¢×¨×›×ª
            </button>
        </div>

        <div id="dash-view">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-16">
                <div class="premium-glass p-10 rounded-[40px] relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10"><i data-lucide="bar-chart-3" class="w-20 h-20"></i></div>
                    <p class="text-gray-500 text-sm font-bold uppercase tracking-tighter">×¡×”"×› ×œ×™×“×™×</p>
                    <h3 id="stat-leads" class="text-5xl font-black mt-2 tracking-tighter">0</h3>
                </div>
                <div class="premium-glass p-10 rounded-[40px] border-r-4 border-gold">
                    <p class="text-gray-500 text-sm font-bold uppercase tracking-tighter">×œ×™×“×™× ×—××™×</p>
                    <h3 id="stat-hot" class="text-5xl font-black mt-2 text-gold tracking-tighter">0</h3>
                </div>
                <div class="premium-glass p-10 rounded-[40px]">
                    <p class="text-gray-500 text-sm font-bold uppercase tracking-tighter">×™×—×¡ ×”××¨×”</p>
                    <h3 class="text-5xl font-black mt-2 tracking-tighter">32%</h3>
                </div>
                <div class="premium-glass p-10 rounded-[40px]">
                    <p class="text-gray-500 text-sm font-bold uppercase tracking-tighter">××©×™××•×ª ×¤×ª×•×—×•×ª</p>
                    <h3 id="stat-tasks" class="text-5xl font-black mt-2 text-white tracking-tighter">0</h3>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
                <div class="lg:col-span-2 premium-glass p-10 rounded-[40px]">
                    <h4 class="text-2xl font-bold mb-8 italic">××’××ª ×¦××™×—×” ×—×•×“×©×™×ª</h4>
                    <canvas id="growthChart" height="120"></canvas>
                </div>
                <div class="premium-glass p-10 rounded-[40px]">
                    <h4 class="text-2xl font-bold mb-8 italic">Timeline ×¤×¢×™×œ×•×ª</h4>
                    <div id="log-container" class="space-y-8">
                        </div>
                </div>
            </div>
        </div>

        <div id="leads-view" class="hidden">
            <div class="premium-glass rounded-[40px] overflow-hidden">
                <div class="p-8 border-b border-white/5 flex gap-6 bg-white/5">
                    <input type="text" id="search" oninput="renderLeads()" placeholder="×—×¤×© ×œ×™×“ ×™×•×§×¨×ª×™..." class="bg-black/50 border border-gold/20 rounded-2xl px-8 py-3 flex-1 outline-none focus:border-gold transition">
                </div>
                <table class="w-full text-right">
                    <thead class="bg-black/80 text-[10px] uppercase tracking-[0.3em] text-gold">
                        <tr>
                            <th class="p-8">×©× ×”×œ×§×•×—</th>
                            <th class="p-8">Lead Score</th>
                            <th class="p-8">×¡×˜×˜×•×¡</th>
                            <th class="p-8">×¤×¢×•×œ×”</th>
                        </tr>
                    </thead>
                    <tbody id="lead-rows"></tbody>
                </table>
            </div>
        </div>
    </main>

    <div id="modal" class="fixed inset-0 bg-black/95 backdrop-blur-xl z-[100] flex items-center justify-center hidden">
        <div class="premium-glass p-12 rounded-[50px] w-full max-w-2xl border-t-4 border-gold">
            <h2 class="text-4xl font-black italic text-gold mb-10">×”×•×¡×¤×ª ×œ×™×“ ×—×“×© ×œ× ×‘×—×¨×ª</h2>
            <div class="grid grid-cols-2 gap-8">
                <div class="col-span-2">
                    <label class="block text-[10px] uppercase tracking-widest text-gray-500 mb-2">×©× ××œ× ×©×œ ×”×œ×§×•×—</label>
                    <input type="text" id="m-name" class="w-full bg-white/5 border border-white/10 rounded-2xl p-5 outline-none focus:border-gold transition text-xl">
                </div>
                <div>
                    <label class="block text-[10px] uppercase tracking-widest text-gray-500 mb-2">×˜×œ×¤×•×Ÿ ×œ×™×¦×™×¨×ª ×§×©×¨</label>
                    <input type="text" id="m-phone" class="w-full bg-white/5 border border-white/10 rounded-2xl p-5 outline-none focus:border-gold transition">
                </div>
                <div>
                    <label class="block text-[10px] uppercase tracking-widest text-gray-500 mb-2">×¢×“×™×¤×•×ª</label>
                    <select id="m-status" class="w-full bg-white/5 border border-white/10 rounded-2xl p-5 outline-none focus:border-gold transition appearance-none">
                        <option value="×—×">ğŸ”¥ ×—× ×××•×“ (VIP)</option>
                        <option value="××¢×§×‘">â³ ××¢×§×‘ ×¡×˜× ×“×¨×˜×™</option>
                        <option value="×¡×’×•×¨">âœ… ×¢×¡×§×” × ×¡×’×¨×”</option>
                    </select>
                </div>
            </div>
            <div class="flex gap-6 mt-12">
                <button onclick="saveNewLead()" class="flex-1 gold-btn py-6 rounded-3xl text-xl">××©×¨ ×•×©××•×¨ ×‘××¢×¨×›×ª</button>
                <button onclick="toggleModal(false)" class="flex-1 bg-white/5 text-white font-bold py-6 rounded-3xl hover:bg-white/10 transition">×‘×™×˜×•×œ</button>
            </div>
        </div>
    </div>

    <script>
        // Data Handling
        let leads = JSON.parse(localStorage.getItem('pro_leads')) || [
            { id: 1, name: '××œ×›×¡× ×“×¨ ×”×’×“×•×œ', phone: '054-1112223', status: '×—×', score: 98 },
            { id: 2, name: '××¨×™× ×›×”×Ÿ', phone: '050-9998887', status: '××¢×§×‘', score: 74 }
        ];

        let logs = JSON.parse(localStorage.getItem('pro_logs')) || [];

        function init() {
            lucide.createIcons();
            updateStats();
            renderLeads();
            renderLogs();
            initChart();
        }

        function showSection(id) {
            document.getElementById('dash-view').classList.add('hidden');
            document.getElementById('leads-view').classList.add('hidden');
            document.getElementById(id + '-view').classList.remove('hidden');
            document.getElementById('section-title').innerText = id === 'dash' ? '×¡×§×™×¨×” × ×™×”×•×œ×™×ª' : '×××’×¨ ×œ×™×“×™× ×™×•×§×¨×ª×™';
        }

        function toggleModal(show) {
            document.getElementById('modal').classList.toggle('hidden', !show);
        }

        function saveNewLead() {
            const name = document.getElementById('m-name').value;
            const phone = document.getElementById('m-phone').value;
            const status = document.getElementById('m-status').value;

            if(!name || !phone) return alert("× × ×œ×”×–×™×Ÿ × ×ª×•× ×™× ××œ××™×");

            const lead = {
                id: Date.now(),
                name,
                phone,
                status,
                score: Math.floor(Math.random() * 30) + 70
            };

            leads.unshift(lead);
            addLog(`×œ×™×“ ×—×“×© × ×•×¡×£: ${name}`, 'Aviv');
            saveAndRefresh();
            toggleModal(false);
            
            // Sync to Google Simulation
            console.log("Syncing to Google Sheets...");
        }

        function renderLeads() {
            const container = document.getElementById('lead-rows');
            const query = document.getElementById('search').value.toLowerCase();
            
            container.innerHTML = leads
                .filter(l => l.name.toLowerCase().includes(query))
                .map(l => `
                <tr>
                    <td class="p-8">
                        <div class="text-xl font-bold italic">${l.name}</div>
                        <div class="text-xs text-gray-500">${l.phone}</div>
                    </td>
                    <td class="p-8">
                        <div class="flex items-center gap-4">
                            <div class="w-16 bg-white/5 h-1 rounded-full overflow-hidden">
                                <div class="bg-gold h-full" style="width: ${l.score}%"></div>
                            </div>
                            <span class="text-xs font-bold ${l.score > 90 ? 'text-gold pulse-gold' : ''}">${l.score}%</span>
                        </div>
                    </td>
                    <td class="p-8">
                        <span class="text-[10px] font-black border border-gold/30 px-4 py-2 rounded-full uppercase">${l.status}</span>
                    </td>
                    <td class="p-8 text-left">
                        <div class="flex justify-end gap-6">
                            <a href="https://wa.me/${l.phone}" class="text-green-500 hover:scale-125 transition"><i data-lucide="message-circle" class="w-5"></i></a>
                            <button onclick="deleteLead(${l.id})" class="text-red-900 hover:text-red-500 transition"><i data-lucide="trash-2" class="w-5"></i></button>
                        </div>
                    </td>
                </tr>
            `).join('');
            lucide.createIcons();
        }

        function deleteLead(id) {
            leads = leads.filter(l => l.id !== id);
            addLog(`×¨×©×•××” ×”×•×¡×¨×” ××”××¢×¨×›×ª`, 'System');
            saveAndRefresh();
        }

        function addLog(msg, user) {
            logs.unshift({ msg, user, time: new Date().toLocaleTimeString('he-IL', {hour:'2-digit', minute:'2-digit'}) });
            if(logs.length > 4) logs.pop();
        }

        function renderLogs() {
            const container = document.getElementById('log-container');
            container.innerHTML = logs.map(l => `
                <div class="relative pr-6 border-r border-gold/20">
                    <div class="absolute -right-[5px] top-1 w-2.5 h-2.5 rounded-full gold-btn"></div>
                    <p class="text-sm font-bold text-white">${l.msg}</p>
                    <p class="text-[10px] text-gray-500 uppercase mt-1">${l.time} | BY ${l.user}</p>
                </div>
            `).join('');
        }

        function updateStats() {
            document.getElementById('stat-leads').innerText = leads.length;
            document.getElementById('stat-hot').innerText = leads.filter(l => l.status === '×—×').length;
            document.getElementById('stat-tasks').innerText = Math.floor(leads.length * 1.2);
        }

        function saveAndRefresh() {
            localStorage.setItem('pro_leads', JSON.stringify(leads));
            localStorage.setItem('pro_logs', JSON.stringify(logs));
            updateStats();
            renderLeads();
            renderLogs();
        }

        function initChart() {
            const ctx = document.getElementById('growthChart').getContext('2d');
            const gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, 'rgba(212, 175, 55, 0.2)');
            gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Revenue Growth',
                        data: [30, 45, 35, 60, 55, 90],
                        borderColor: '#D4AF37',
                        borderWidth: 5,
                        pointRadius: 0,
                        tension: 0.5,
                        fill: true,
                        backgroundColor: gradient
                    }]
                },
                options: {
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { display: false },
                        x: { grid: { color: 'rgba(255,255,255,0.05)' } }
                    }
                }
            });
        }

        init();
    </script>
</body>
</html>
