<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>GEMEL INVEST â€¢ ×”×¦×¢×•×ª + ×©××œ×•×Ÿ ×¨×¤×•××™</title>
  <meta name="theme-color" content="#FBFAF7"/>
  <link rel="stylesheet" href="app.css"/>
</head>
<body>

  <!-- Login Overlay -->
  <div class="loginOverlay hidden" id="loginOverlay" aria-hidden="true">
    <div class="loginBackdrop" aria-hidden="true"></div>
    <div class="loginCard" role="dialog" aria-modal="true" aria-label="×”×ª×—×‘×¨×•×ª">
      <div class="loginBrand">
        <div class="logoDot" aria-hidden="true"></div>
        <div class="loginBrandText">
          <div class="loginTitle">GEMEL INVEST</div>
          <div class="loginSub">Premium CRM â€¢ ×›× ×™×¡×” ×œ××¢×¨×›×ª</div>
        </div>
      </div>

      <form id="loginForm" class="loginForm">
        <label class="field">
          <span class="label">×©× ××©×ª××©</span>
          <input id="loginUser" class="input" autocomplete="username" placeholder="×œ×“×•×’××”: admin" required />
        </label>

        <label class="field">
          <span class="label">×¡×™×¡××”</span>
          <input id="loginPass" class="input" type="password" autocomplete="current-password" placeholder="â€¢â€¢â€¢â€¢" required />
        </label>

        <div id="loginError" class="loginError hidden"></div>

        <button class="btn btnPrimary w100" type="submit">×›× ×™×¡×”</button>

        <div class="loginHint">
          <span>×“××•:</span>
          <span class="mono">admin / 3316</span>
        </div>
      </form>
    </div>
  </div>

  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <div class="logoDot" aria-hidden="true"></div>
        <div class="brandText">
          <div class="brandName">GEMEL INVEST</div>
          <div class="brandSub">×”×©×§×¢×•×ª ×•×¤× × ×¡×™×</div>
        </div>
      </div>

      <nav class="nav">
        <button class="navItem active" data-route="customers"><span class="ico">ğŸ‘¥</span><span>×œ×§×•×—×•×ª</span></button>
        <button class="navItem" data-route="my"><span class="ico">ğŸ§©</span><span>×”×ª×”×œ×™×›×™× ×©×œ×™</span></button>
        <button class="navItem" data-route="proposals"><span class="ico">ğŸ§¾</span><span>×”×¦×¢×•×ª</span></button>
        <button class="navItem" data-route="settings"><span class="ico">âš™ï¸</span><span>×”×’×“×¨×•×ª</span></button>
      </nav>

      <div class="sidebarFooter">
        <div class="agentBadge" id="agentBadge">
          <span class="dotOnline" aria-hidden="true"></span>
          <span class="agentName" id="agentName">× ×¦×™×’: ××•×¨×—</span>
        </div>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div class="topbarLeft">
          <h1 class="pageTitle" id="pageTitle">×œ×§×•×—×•×ª</h1>
          <div class="crumb" id="crumb">Overview</div>
        </div>

        <div class="topbarRight">
          <div class="searchWrap">
            <span class="searchIco" aria-hidden="true">âŒ•</span>
            <input id="globalSearch" class="searchInput" placeholder="×—×™×¤×•×© ×œ×§×•×— ×œ×¤×™ ×©× / ×ª×´×– / ×˜×œ×¤×•×Ÿ" autocomplete="off"/>
            <button id="searchBtn" class="btn btnSoft">×—×™×¤×•×©</button>
          </div>
          <button id="newProposalBtn" class="btn btnPrimary">+ ×”×¦×¢×” ×—×“×©×”</button>
          <button id="logoutBtn" class="btn btnSoft">×”×ª× ×ª×§</button>
        </div>
      </header>

      <section class="content">
        <div class="kpis" id="kpis"></div>

        <div class="panel">
          <div class="panelHead">
            <div class="tabs" id="tabs"></div>
          </div>
          <div class="panelBody" id="view"></div>
        </div>
      </section>
    </main>
  </div>

  <div class="toastHost" id="toastHost" aria-live="polite"></div>
  <script src="app.js"></script>

  <!-- Premium Install Button -->
  <script>
  let deferredPrompt;
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;

    const box = document.createElement("div");
    box.style.position = "fixed";
    box.style.bottom = "25px";
    box.style.left = "25px";
    box.style.background = "linear-gradient(145deg,#111,#1c1c1c)";
    box.style.padding = "18px 22px";
    box.style.borderRadius = "16px";
    box.style.boxShadow = "0 0 30px rgba(212,175,55,0.35)";
    box.style.border = "1px solid rgba(212,175,55,0.4)";
    box.style.zIndex = "9999";
    box.style.color = "#fff";
    box.style.fontFamily = "Arial";
    box.style.maxWidth = "260px";

    box.innerHTML = `
      <div style="font-size:13px;opacity:.7;margin-bottom:6px">
        Gemel Invest CRM
      </div>
      <button id="installBtnPremium" style="
        width:100%;
        background:linear-gradient(135deg,#d4af37,#f5d77a);
        border:none;
        color:#000;
        padding:12px;
        font-size:15px;
        border-radius:10px;
        cursor:pointer;
        font-weight:700;
        box-shadow:0 0 15px rgba(212,175,55,0.6);
      ">
        ×”×ª×§×Ÿ ××¢×¨×›×ª
      </button>
    `;

    document.body.appendChild(box);

    document.getElementById("installBtnPremium").onclick = () => {
      box.remove();
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then(() => {
        deferredPrompt = null;
      });
    };
  });
  </script>

</body>
</html>
