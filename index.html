<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeadUp Ultra | Enterprise CRM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@200;300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold: #D4AF37;
            --obsidian: #050505;
            --card: #111111;
        }

        body {
            font-family: 'Assistant', sans-serif;
            background-color: var(--obsidian);
            color: #f1f1f1;
            margin: 0;
            overflow: hidden;
        }

        /* ×¢×™×¦×•×‘ ××•×œ×˜×¨×”-×™×•×§×¨×ª×™ */
        .premium-card {
            background: linear-gradient(145deg, #161616, #0d0d0d);
            border: 1px solid rgba(212, 175, 55, 0.1);
            box-shadow: 10px 10px 20px #030303, -10px -10px 20px #131313;
            border-radius: 24px;
            transition: all 0.4s ease;
        }

        .premium-card:hover {
            border-color: var(--gold);
            transform: translateY(-5px);
        }

        .gold-btn {
            background: linear-gradient(135deg, #D4AF37 0%, #F9E79F 50%, #B8860B 100%);
            color: #000;
            font-weight: 800;
            border-radius: 14px;
            transition: 0.3s;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.2);
        }

        .gold-btn:hover {
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.5);
            letter-spacing: 0.5px;
        }

        /* ×¡×¨×’×œ ×¦×“ */
        .sidebar {
            width: 320px;
            background: #000;
            border-left: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .nav-link {
            padding: 18px 30px;
            color: #666;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            font-weight: 600;
            border-right: 4px solid transparent;
        }

        .nav-link.active {
            color: var(--gold);
            background: rgba(212, 175, 55, 0.05);
            border-right-color: var(--gold);
        }

        /* ×˜×‘×œ××•×ª */
        .table-container {
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        tr { border-bottom: 1px solid rgba(255, 255, 255, 0.02); }
        tr:hover { background: rgba(255, 255, 255, 0.02); }

        .status-badge {
            padding: 4px 12px;
            border-radius: 100px;
            font-size: 10px;
            font-weight: 800;
            text-transform: uppercase;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="flex">

    <aside class="sidebar">
        <div class="p-10 text-center">
            <img src="logo.png.png" alt="LeadUp Logo" class="w-40 mx-auto drop-shadow-[0_0_10px_rgba(212,175,55,0.4)]">
            <p class="text-[10px] text-gray-600 tracking-[0.4em] uppercase mt-6">Enterprise Edition</p>
        </div>

        <nav class="flex-1 mt-6">
            <div onclick="switchTab('dash')" id="tab-dash" class="nav-link active">
                <i data-lucide="layout-grid"></i> <span>××¨×›×– ×©×œ×™×—×” ×•×‘×§×¨×”</span>
            </div>
            <div onclick="switchTab('leads')" id="tab-leads" class="nav-link">
                <i data-lucide="users"></i> <span>× ×™×”×•×œ ×œ×§×•×—×•×ª ×•×œ×™×“×™×</span>
            </div>
            <div class="nav-link">
                <i data-lucide="calendar"></i> <span>××©×™××•×ª ×•×ª×–×›×•×¨×•×ª</span>
            </div>
            <div onclick="exportCSV()" class="nav-link mt-10 text-gray-500">
                <i data-lucide="download"></i> <span>×™×™×¦×•× ×“×•×—×•×ª</span>
            </div>
        </nav>
    </aside>

    <main class="flex-1 overflow-y-auto no-scrollbar h-screen p-12 bg-[#080808]">
        
        <header class="flex justify-between items-end mb-16">
            <div>
                <h1 id="page-title" class="text-5xl font-extrabold italic tracking-tighter">×“××©×‘×•×¨×“ <span class="text-gray-600 font-light">LeadUp</span></h1>
                <div class="flex items-center gap-2 mt-2">
                    <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                    <p class="text-xs text-gray-500 font-bold uppercase tracking-widest">××¢×¨×›×ª ××—×•×‘×¨×ª ×œ×¢× ×Ÿ</p>
                </div>
            </div>
            <button onclick="openModal()" class="gold-btn px-10 py-4 flex items-center gap-3">
                <i data-lucide="user-plus"></i> ×”×•×¡×¤×ª ×œ×™×“
            </button>
        </header>

        <div id="view-dash">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-12">
                <div class="premium-card p-10">
                    <p class="text-gray-500 text-xs font-bold uppercase tracking-widest">×¡×”"×› ×œ×™×“×™×</p>
                    <h3 id="count-total" class="text-5xl font-black mt-2">0</h3>
                </div>
                <div class="premium-card p-10">
                    <p class="text-gray-500 text-xs font-bold uppercase tracking-widest text-[#D4AF37]">×œ×™×“×™× VIP</p>
                    <h3 id="count-vip" class="text-5xl font-black mt-2 text-[#D4AF37]">0</h3>
                </div>
                <div class="premium-card p-10">
                    <p class="text-gray-500 text-xs font-bold uppercase tracking-widest">×¡×’×™×¨×•×ª ×”×—×•×“×©</p>
                    <h3 class="text-5xl font-black mt-2 text-green-500">â‚ª84K</h3>
                </div>
                <div class="premium-card p-10">
                    <p class="text-gray-500 text-xs font-bold uppercase tracking-widest">××©×™××•×ª ×¤×ª×•×—×•×ª</p>
                    <h3 class="text-5xl font-black mt-2 text-white">14</h3>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
                <div class="lg:col-span-2 premium-card p-10">
                    <h4 class="text-xl font-bold mb-8">× ×™×ª×•×— ×‘×™×¦×•×¢×™× ×©× ×ª×™</h4>
                    <canvas id="growthChart" height="120"></canvas>
                </div>
                <div class="premium-card p-10 overflow-y-auto max-h-[400px]">
                    <h4 class="text-xl font-bold mb-8 border-b border-white/5 pb-4">Timeline ×¤×¢×™×œ×•×ª</h4>
                    <div id="log-list" class="space-y-6">
                        </div>
                </div>
            </div>
        </div>

        <div id="view-leads" class="hidden">
            <div class="premium-card overflow-hidden">
                <div class="p-8 bg-white/5 flex gap-4">
                    <input type="text" id="searchBox" oninput="renderLeads()" placeholder="×—×¤×© ×œ×¤×™ ×©× ××• ×˜×œ×¤×•×Ÿ..." class="flex-1 bg-black border border-white/10 rounded-2xl px-6 py-3 outline-none focus:border-gold transition text-lg">
                </div>
                <table class="w-full text-right">
                    <thead class="bg-black/50 text-[10px] uppercase tracking-widest text-gray-500">
                        <tr>
                            <th class="p-8">×œ×§×•×—</th>
                            <th class="p-8">×¡×•×’ ×©×™×¨×•×ª</th>
                            <th class="p-8">×¦×™×•×Ÿ ×—×•×</th>
                            <th class="p-8">×¡×˜×˜×•×¡</th>
                            <th class="p-8">×¤×¢×•×œ×•×ª</th>
                        </tr>
                    </thead>
                    <tbody id="leads-body"></tbody>
                </table>
            </div>
        </div>
    </main>

    <div id="modal" class="fixed inset-0 bg-black/95 backdrop-blur-xl z-[100] flex items-center justify-center hidden">
        <div class="premium-card p-12 w-full max-w-xl border-t-4 border-gold">
            <h2 class="text-3xl font-extrabold mb-10 text-gold italic">×”×–× ×ª ×œ×™×“ ×—×“×© ×œ××¢×¨×›×ª</h2>
            <div class="space-y-6">
                <input type="text" id="in-name" placeholder="×©× ××œ×" class="w-full bg-black border border-white/10 p-5 rounded-2xl outline-none focus:border-gold">
                <div class="grid grid-cols-2 gap-4">
                    <input type="text" id="in-phone" placeholder="×˜×œ×¤×•×Ÿ" class="w-full bg-black border border-white/10 p-5 rounded-2xl outline-none focus:border-gold">
                    <select id="in-status" class="w-full bg-black border border-white/10 p-5 rounded-2xl outline-none focus:border-gold">
                        <option value="×—×">ğŸ”¥ ×—× ×××•×“ (VIP)</option>
                        <option value="××¢×§×‘">â³ ××¢×§×‘</option>
                        <option value="×—×“×©">×—×“×©</option>
                    </select>
                </div>
                <div class="flex gap-4 pt-6">
                    <button onclick="saveLead()" class="flex-1 gold-btn py-5 text-xl">××©×¨ ×•×©××•×¨ ×‘×¢× ×Ÿ</button>
                    <button onclick="closeModal()" class="flex-1 bg-white/5 py-5 rounded-2xl font-bold hover:bg-white/10 transition">×‘×™×˜×•×œ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- CONFIG ---
        const GOOGLE_URL = "×›××Ÿ ×ª×“×‘×™×§ ××ª ×”×›×ª×•×‘×ª ×©×§×™×‘×œ×ª ××”×¡×§×¨×™×¤×˜";

        let leads = JSON.parse(localStorage.getItem('leadup_v3')) || [
            { id: 1, name: '×™×©×¨××œ ×™×©×¨××œ×™', phone: '0501234567', type: '×‘×™×˜×•×— ×¨×›×‘', status: '×—×', score: 96 },
            { id: 2, name: '×“× ×” ×œ×•×™', phone: '0547778899', type: '×¤× ×¡×™×”', status: '××¢×§×‘', score: 72 }
        ];

        function init() {
            lucide.createIcons();
            updateStats();
            renderLeads();
            renderChart();
            addLog("×”××¢×¨×›×ª ××•×ª×—×œ×” ×‘×”×¦×œ×—×”");
        }

        function switchTab(tab) {
            document.getElementById('view-dash').classList.toggle('hidden', tab !== 'dash');
            document.getElementById('view-leads').classList.toggle('hidden', tab !== 'leads');
            document.getElementById('page-title').innerHTML = tab === 'dash' ? '×“××©×‘×•×¨×“ <span class="text-gray-600 font-light">LeadUp</span>' : '×××’×¨ <span class="text-gray-600 font-light">×œ×§×•×—×•×ª</span>';
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById('tab-' + tab).classList.add('active');
        }

        function openModal() { document.getElementById('modal').classList.remove('hidden'); }
        function closeModal() { document.getElementById('modal').classList.add('hidden'); }

        async function saveLead() {
            const name = document.getElementById('in-name').value;
            const phone = document.getElementById('in-phone').value;
            const status = document.getElementById('in-status').value;

            if(!name || !phone) return alert("××œ× × ×ª×•× ×™× ×‘×‘×§×©×”");

            const lead = { id: Date.now(), name, phone, status, type: '×›×œ×œ×™', score: 85 };
            leads.unshift(lead);
            
            // ×©××™×¨×” ××§×•××™×ª
            localStorage.setItem('leadup_v3', JSON.stringify(leads));
            
            // ×©×œ×™×—×” ×œ×’×•×’×œ ×©×™×˜×¡
            fetch(GOOGLE_URL, {
                method: 'POST',
                mode: 'no-cors',
                body: JSON.stringify(lead)
            });

            addLog(`×œ×™×“ ×—×“×© × ×•×¡×£: ${name}`);
            renderLeads();
            updateStats();
            closeModal();
        }

        function renderLeads() {
            const body = document.getElementById('leads-body');
            const search = document.getElementById('searchBox').value.toLowerCase();
            
            body.innerHTML = leads.filter(l => l.name.toLowerCase().includes(search) || l.phone.includes(search))
                .map(l => `
                <tr class="group">
                    <td class="p-8">
                        <div class="text-xl font-bold italic">${l.name}</div>
                        <div class="text-xs text-gray-500">${l.phone}</div>
                    </td>
                    <td class="p-8 text-sm text-gray-400 font-light">${l.type}</td>
                    <td class="p-8">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full border border-gold/30 flex items-center justify-center text-[10px] font-bold text-gold">
                                ${l.score}
                            </div>
                        </div>
                    </td>
                    <td class="p-8">
                        <span class="status-badge ${l.status === '×—×' ? 'bg-red-500/20 text-red-500 border border-red-500/30' : 'bg-gold/10 text-gold border border-gold/20'}">
                            ${l.status}
                        </span>
                    </td>
                    <td class="p-8">
                        <div class="flex gap-4 opacity-0 group-hover:opacity-100 transition">
                            <a href="https://wa.me/${l.phone}" target="_blank" class="text-green-500 hover:scale-125 transition"><i data-lucide="message-circle"></i></a>
                            <button onclick="deleteLead(${l.id})" class="text-red-900 hover:text-red-500"><i data-lucide="trash-2"></i></button>
                        </div>
                    </td>
                </tr>
            `).join('');
            lucide.createIcons();
        }

        function deleteLead(id) {
            leads = leads.filter(l => l.id !== id);
            localStorage.setItem('leadup_v3', JSON.stringify(leads));
            addLog("×‘×•×¦×¢×” ××—×™×§×ª ×¨×©×•××”");
            renderLeads();
            updateStats();
        }

        function addLog(msg) {
            const container = document.getElementById('log-list');
            const log = `<div class="pr-4 border-r-2 border-gold/30">
                <p class="text-sm font-bold">${msg}</p>
                <p class="text-[10px] text-gray-600 uppercase mt-1">${new Date().toLocaleTimeString()} | ADMIN</p>
            </div>`;
            container.innerHTML = log + container.innerHTML;
        }

        function updateStats() {
            document.getElementById('count-total').innerText = leads.length;
            document.getElementById('count-vip').innerText = leads.filter(l => l.status === '×—×').length;
        }

        function renderChart() {
            const ctx = document.getElementById('growthChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Sales',
                        data: [12, 19, 15, 25, 22, 38],
                        borderColor: '#D4AF37',
                        borderWidth: 5,
                        tension: 0.4,
                        fill: true,
                        backgroundColor: 'rgba(212, 175, 55, 0.05)',
                        pointRadius: 0
                    }]
                },
                options: {
                    plugins: { legend: { display: false } },
                    scales: { y: { display: false }, x: { grid: { color: 'rgba(255,255,255,0.02)' } } }
                }
            });
        }

        init();
    </script>
</body>
</html>
